window.addEventListener("DOMContentLoaded",(function(){"use strict";function e(e){this.type=e}e.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],r=t.dataset.da.trim().split(","),n={};n.element=t,n.parent=t.parentNode,n.destination=document.querySelector(r[0].trim()),n.breakpoint=r[1]?r[1].trim():"767",n.place=r[2]?r[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,r){return Array.prototype.indexOf.call(r,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const r=this.mediaQueries[t],n=String.prototype.split.call(r,","),o=window.matchMedia(n[0]),l=n[1],s=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===l}));o.addListener((function(){e.mediaHandler(o,s)})),this.mediaHandler(o,s)}},e.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const r=t[e];r.index=this.indexInParent(r.parent,r.element),this.moveTo(r.place,r.element,r.destination)}else for(let e=0;e<t.length;e++){const r=t[e];r.element.classList.contains(this.daClassname)&&this.moveBack(r.parent,r.element,r.index)}},e.prototype.moveTo=function(e,t,r){t.classList.add(this.daClassname),"last"===e||e>=r.children.length?r.insertAdjacentElement("beforeend",t):"first"!==e?r.children[e].insertAdjacentElement("beforebegin",t):r.insertAdjacentElement("afterbegin",t)},e.prototype.moveBack=function(e,t,r){t.classList.remove(this.daClassname),void 0!==e.children[r]?e.children[r].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},e.prototype.indexInParent=function(e,t){const r=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(r,t)},e.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};new e("max").init();var t,r,n=window.navigator.userAgent,o=(n.indexOf("MSIE "),{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return o.Android()||o.BlackBerry()||o.iOS()||o.Opera()||o.Windows()}});function l(){return(n=navigator.userAgent).indexOf("MSIE ")>-1||n.indexOf("Trident/")>-1}function s(){if(l()){let t=document.querySelectorAll("._ibg");for(var e=0;e<t.length;e++)t[e].querySelector("img")&&null!=t[e].querySelector("img").getAttribute("src")&&(t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")")}}l()&&document.querySelector("body").classList.add("ie"),o.any()&&document.querySelector("body").classList.add("_touch"),t=function(e){1==e?document.querySelector("body").classList.add("_webp"):document.querySelector("body").classList.add("_no-webp")},(r=new Image).onload=r.onerror=function(){t(2==r.height)},r.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",s(),document.querySelector(".wrapper")&&document.querySelector(".wrapper").classList.add("_loaded");let i=!0;if(location.hash){const e=location.hash.replace("#","");document.querySelector(".popup_"+e)?v(e):document.querySelector("div."+e)&&_goto(document.querySelector("."+e),500,"")}let c=document.querySelector(".icon-menu");if(null!=c){let e=500,t=document.querySelector(".menu__body");c.addEventListener("click",(function(r){i&&(!function(e){document.querySelector("body").classList.contains("_lock")?a(e):u(e)}(e),c.classList.toggle("_active"),t.classList.toggle("_active"))}))}function a(e){let t=document.querySelector("body");if(i){let r=document.querySelectorAll("._lp");setTimeout(()=>{for(let e=0;e<r.length;e++){r[e].style.paddingRight="0px"}t.style.paddingRight="0px",t.classList.remove("_lock")},e),i=!1,setTimeout((function(){i=!0}),e)}}function u(e){let t=document.querySelector("body");if(i){let r=document.querySelectorAll("._lp");for(let e=0;e<r.length;e++){r[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),i=!1,setTimeout((function(){i=!0}),e)}}let d=document.querySelectorAll("._letter-animation");if(d)for(let e=0;e<d.length;e++){let t=d[e],r=t.innerHTML.replace("  "," ").split(" "),n="";for(let e=0;e<r.length;e++){let o=r[e],l=o.length;n+="<p>";for(let e=0;e<l;e++){let t=o.substr(e,1);" "==t&&(t="&nbsp;"),n=n+"<span>"+t+"</span>"}t.innerHTML=n,n+="&nbsp;</p>"}}document.querySelectorAll("._tabs").forEach(e=>{const t=e.querySelectorAll("._tabs-item"),r=e.querySelectorAll("._tabs-block");t.forEach((e,n)=>{e.addEventListener("click",o=>{t.forEach((e,t)=>{e.classList.remove("_active"),r[t].classList.remove("_active")}),e.classList.add("_active"),r[n].classList.add("_active"),o.preventDefault()})})});let p=document.querySelectorAll("._spoller"),m=!0;if(p.length>0)for(let e=0;e<p.length;e++){const t=p[e];t.addEventListener("click",(function(e){if(m){if(m=!1,t.classList.contains("_spoller-992")&&window.innerWidth>992)return!1;if(t.classList.contains("_spoller-768")&&window.innerWidth>768)return!1;if(t.closest("._spollers").classList.contains("_one")){let e=t.closest("._spollers").querySelectorAll("._spoller");for(let r=0;r<e.length;r++){let n=e[r];n!=t&&(n.classList.add("_active"),b(n.nextElementSibling))}}t.classList.toggle("_active"),L(t.nextElementSibling,100,0),setTimeout((function(){m=!0}),500)}}))}let y=document.querySelectorAll("._gallery");y&&function(){for(let e=0;e<y.length;e++){const t=y[e];lightGallery(t,{counter:!1,selector:"a",download:!1})}}();let _=document.querySelectorAll("._popup-link"),f=document.querySelectorAll(".popup");for(let e=0;e<_.length;e++){const t=_[e];t.addEventListener("click",(function(e){if(i){v(t.getAttribute("href").replace("#",""),t.getAttribute("data-video"))}e.preventDefault()}))}for(let e=0;e<f.length;e++){f[e].addEventListener("click",(function(e){e.target.closest(".popup__body")||g(e.target.closest(".popup"))}))}function v(e,t=""){document.querySelectorAll(".popup._active").length>0&&g("",!1);let r=document.querySelector(".popup_"+e);if(r&&i){if(""!=t&&null!=t){document.querySelector(".popup_video").querySelector(".popup__video").innerHTML='<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'}document.querySelector(".menu__body._active")||u(500),r.classList.add("_active"),history.pushState("","","#"+e)}}function g(e,t=!0){if(i){if(e){let t=e.querySelector(".popup__video");t&&(t.innerHTML=""),e.classList.remove("_active")}else for(let e=0;e<f.length;e++){const t=f[e];let r=t.querySelector(".popup__video");r&&(r.innerHTML=""),t.classList.remove("_active")}!document.querySelector(".menu__body._active")&&t&&a(500),history.pushState("","",window.location.href.split("#")[0])}}let h=document.querySelectorAll(".popup__close,._popup-close");if(h)for(let e=0;e<h.length;e++){const t=h[e];t.addEventListener("click",(function(){g(t.closest(".popup"))}))}document.addEventListener("keydown",(function(e){"Escape"===e.code&&g()}));let b=(e,t=300,r)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop="42px",e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},L=(e,t=500,r)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?((e,t=500,r)=>{e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop="42px",e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)})(e,t):b(e,r)};function S(e){return null===e.offsetParent}Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);let q=document.querySelectorAll("._swiper");if(q)for(let e=0;e<q.length;e++){let t=q[e];if(!t.classList.contains("swiper-bild")){let e=t.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let r=t.innerHTML,n=document.createElement("div");if(n.classList.add("swiper-wrapper"),n.innerHTML=r,t.innerHTML="",t.appendChild(n),t.classList.add("swiper-bild"),t.classList.contains("_swiper_scroll")){let e=document.createElement("div");e.classList.add("swiper-scrollbar"),t.appendChild(e)}}t.classList.contains("_gallery")}let A=document.querySelectorAll("._swiper_scroll");if(A.length>0)for(let e=0;e<A.length;e++){const t=A[e],r=t.querySelector(".swiper-scrollbar");new Swiper(t,{direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:r,draggable:!0,snapOnRelease:!1},mousewheel:{releaseOnEdges:!0}}).scrollbar.updateSize()}if(document.querySelector(".mainslider")){new Swiper(".mainslider__body",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,pagination:{el:".mainslider__dotts",clickable:!0}})}if(document.querySelector(".category-slider")){new Swiper(".category-slider__body",{observer:!0,observeParents:!0,slidesPerView:4,spaceBetween:0,autoHeight:!0,speed:800,pagination:{el:".category-slider__progressbar",type:"progressbar"},navigation:{nextEl:".category-slider__arrow_next"},breakpoints:{320:{slidesPerView:1},400:{slidesPerView:2},600:{slidesPerView:3},992:{slidesPerView:4}},on:{lazyImageReady:function(){s()}}})}if(document.querySelector(".card-slider")){new Swiper(".card-slider__body",{observer:!0,observeParents:!0,slidesPerView:2,spaceBetween:16,autoHeight:!0,speed:800,navigation:{nextEl:".card-slider__arrow_next"},breakpoints:{320:{slidesPerView:1},600:{slidesPerView:2},768:{slidesPerView:1,spaceBetween:20},992:{slidesPerView:2},1268:{}}})}document.querySelectorAll(".block-order__row").forEach((function(e){let t=new Swiper(e,{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:16,allowTouchMove:!1,autoHeight:!0,speed:800,navigation:{nextEl:".order-number_item",prevEl:".order-number_position"}});document.body.clientWidth>800&&t.destroy()}));const w=document.querySelectorAll(".menu__link_parent"),E=document.querySelector(".submenu-header__link"),k=document.querySelector(".submenu-menu");w.forEach(e=>{e.addEventListener("click",e=>{E.classList.toggle("_active"),L(k),e.preventDefault()})});const x=document.querySelector(".icon-menu"),P=document.querySelector("body"),M=document.querySelector(".submenu-header"),T=document.querySelector(".submenu-header__back-button"),H=document.querySelector(".header__modal"),C=document.querySelector(".menu-mobile"),B=document.querySelector(".header__logo");x&&x.addEventListener("click",()=>{x.classList.add("_active"),M.classList.add("_active"),H.classList.add("_active"),B.classList.add("_active"),C.classList.add("_active")}),T.addEventListener("click",()=>{x.classList.remove("_active"),M.classList.remove("_active"),H.classList.remove("_active"),B.classList.remove("_active"),P.classList.remove("_lock"),C.classList.remove("_active")});const j=document.querySelector(".video__iframe"),I=document.querySelector(".video__btn");j&&I.addEventListener("click",()=>{I.style.display="none",j.setAttribute("src","https://www.youtube.com/embed/fRHA_mrMMH0?autoplay=1")});document.querySelectorAll(".menu__link span").forEach(e=>{e.textContent===document.title&&"Меню"!==e.textContent&&e.classList.add("_active")});const D=document.querySelectorAll(".filter"),O=document.querySelector(".products-page__body"),V=document.querySelector(".page__video"),W=document.querySelector(".page__delivery"),R=document.querySelector(".products-page__title"),$=document.querySelectorAll(".category-slider__slide");if(D){const e=document.querySelectorAll(".filter__item");e.forEach(t=>{t.addEventListener("click",r=>{$.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault()})}),r.preventDefault(),R.innerHTML=t.textContent,V.classList.add("_active"),W.classList.add("_active"),O.style.justifyContent="space-around",e.forEach(e=>{e.classList.remove("_active")}),t.classList.add("_active");let n=t.getAttribute("data-filter");document.querySelectorAll(".products-page__column").forEach(e=>{e.classList.add("_active"),e.classList.contains("f_"+n)&&e.classList.remove("_active")})})})}const U=document.querySelectorAll(".products-page__button"),Q=document.querySelectorAll(".products-page__quantity");U.forEach((e,t)=>{e.addEventListener("click",r=>{r.preventDefault(),e.classList.add("_active"),Q[t].classList.add("_active")})});const z=document.querySelector(".order-body__btn"),F=document.querySelector(".cart-content__order-form"),G=document.querySelector(".cart-content__user-form "),N=document.querySelector(".cart__advantages"),J=document.querySelector(".cart-body__tabs"),X=document.querySelector(".cart-body__title"),Y=document.querySelector(".cart-body__label"),K=document.querySelector(".cart-content__side"),Z=document.querySelectorAll(".top-cart__image"),ee=document.querySelectorAll(".quantity__cart");document.querySelectorAll(".top-cart__row");z&&z.addEventListener("click",e=>{e.preventDefault(),N.classList.add("_active"),F.classList.add("_active"),G.classList.add("_active"),J.classList.add("_active"),Y.classList.add("_active"),K.classList.add("_active"),X.innerHTML="Оформление заказа",Z.forEach(e=>{e.style.maxWidth="78px",e.style.maxHeight="58px",e.style.marginLeft=0}),ee.forEach(e=>{e.style.maxWidth="112px",e.style.maxHeight="40px"})});const te=document.querySelector(".pickup-item"),re=document.querySelector(".delivery-item"),ne=document.querySelector(".cart-content__pickup-form");te&&te.addEventListener("click",e=>{e.preventDefault(),ne.classList.add("_active"),G.classList.remove("_active"),K.style.justifyContent="flex-end"}),re&&re.addEventListener("click",e=>{e.preventDefault(),ne.classList.remove("_active"),G.classList.add("_active"),K.removeAttribute("style")});const oe=document.querySelector(".menu__submenu"),le=document.querySelectorAll(".submenu-menu__item"),se=document.querySelectorAll(".submenu-menu__item span");le.forEach((e,t)=>{oe.closest(".submenu-header__list")&&(e.innerHTML=`<picture><source srcset="img/icons/menu/white/0${t+1}.svg" type="image/webp"><img src="img/icons/menu/white/0${t+1}.svg" alt="" class="submenu-menu__image"></picture>${se[t].textContent}`)});const ie=document.querySelectorAll(".menu-mobile__image");ie.forEach((e,t)=>{let r=e.getAttribute("data-name");e.addEventListener("click",()=>{ie.forEach((e,t)=>{e.classList.remove("_active"),e.innerHTML=`<picture><source srcset="img/icons/mobile_menu/${t+1}.svg" type="image/webp"><img src="img/icons/mobile_menu/${t+1}.svg" alt=""></picture>`})}),r===document.title&&function(e){ie[e].classList.add("_active"),ie[e].innerHTML=`<picture><source srcset="img/icons/mobile_menu/${e+1}_g.svg" type="image/webp"><img src="img/icons/mobile_menu/${e+1}_g.svg" alt=""></picture>`}(t)});let ce=document.querySelectorAll("form");if(ce.length>0)for(let e=0;e<ce.length;e++){ce[e].addEventListener("submit",ae)}async function ae(e){let t=e.target.closest("form");if(0==function(e){let t=0,r=e.querySelectorAll("._req");if(r.length>0)for(let e=0;e<r.length;e++){const n=r[e];S(n)||(t+=ue(n))}return t}(t)){let r=t.getAttribute("action")?t.getAttribute("action").trim():"#",n=t.getAttribute("method")?t.getAttribute("method").trim():"GET";const o=t.getAttribute("data-message");if(t.getAttribute("data-ajax")){e.preventDefault();let l=new FormData(t);t.classList.add("_sending");let s=await fetch(r,{method:n,body:l});if(s.ok){await s.json();t.classList.remove("_sending"),o&&v("_"+o+"-message"),function(e){let t=e.querySelectorAll("input,textarea");for(let e=0;e<t.length;e++){const r=t[e];r.parentElement.classList.remove("_focus"),r.classList.remove("_focus"),r.value=r.getAttribute("data-value")}let r=e.querySelectorAll(".checkbox__input");if(r.length>0)for(let e=0;e<r.length;e++){r[e].checked=!1}let n=e.querySelectorAll("select");if(n.length>0)for(let e=0;e<n.length;e++){const t=n[e],r=t.getAttribute("data-default");t.value=r,ve(t)}}(t)}else alert("Ошибка"),t.classList.remove("_sending")}}else{let r=t.querySelectorAll("._error");r&&t.classList.contains("_goto-error")&&_goto(r[0],1e3,50),e.preventDefault()}}function ue(e){let t=0,r=e.getAttribute("data-value");if("email"==e.getAttribute("name")||e.classList.contains("_email")){if(e.value!=r){let t=e.value.replace(" ","");e.value=t}email_test(e)||e.value==r?(de(e),t++):pe(e)}else"checkbox"==e.getAttribute("type")&&0==e.checked||""==e.value||e.value==r?(de(e),t++):pe(e);return t}function de(e){e.classList.add("_error"),e.parentElement.classList.add("_error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t);let r=e.getAttribute("data-error");r&&""!=r&&e.parentElement.insertAdjacentHTML("beforeend",'<div class="form__error">'+r+"</div>")}function pe(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t)}let me=document.querySelectorAll(".form__viewpass");for(let e=0;e<me.length;e++){const t=me[e];t.addEventListener("click",(function(e){t.classList.contains("_active")?t.parentElement.querySelector("input").setAttribute("type","password"):t.parentElement.querySelector("input").setAttribute("type","text"),t.classList.toggle("_active")}))}let ye=document.getElementsByTagName("select");function _e(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const r=t[e],n=r.querySelector(".select__options");r.classList.remove("_active"),b(n,100)}}function fe(e){const t=e.parentElement,r=e.getAttribute("class"),n=e.querySelector("option:checked");e.setAttribute("data-default",n.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+r+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),ve(e)}function ve(e){const t=e.parentElement,r=t.querySelector(".select__item"),n=e.querySelectorAll("option"),o=e.querySelector("option:checked").text,l=e.getAttribute("data-type");r&&r.remove();let s="";s="input"==l?'<div class="select__value icon-select-arrow"><input autocomplete="off" type="text" name="form[]" value="'+o+'" data-error="Ошибка" data-value="'+o+'" class="select__input"></div>':'<div class="select__value icon-select-arrow"><span>'+o+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+s+'</div><div class="select__options">'+function(e){if(e){let t="";for(let r=0;r<e.length;r++){const n=e[r],o=n.value;if(""!=o){const e=n.text;t=t+'<div data-value="'+o+'" class="select__option">'+e+"</div>"}}return t}}(n)+"</div></div></div>"),function(e,t){const r=t.querySelector(".select__item"),n=t.querySelector(".select__options"),o=t.querySelectorAll(".select__option"),l=e.getAttribute("data-type"),s=t.querySelector(".select__input");r.addEventListener("click",(function(){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const n=e[t],o=n.querySelector(".select__options");n!=r.closest(".select")&&(n.classList.remove("_active"),b(o,100))}L(n,100,0),t.classList.toggle("_active")}));for(let r=0;r<o.length;r++){const n=o[r],i=n.getAttribute("data-value"),c=n.innerHTML;"input"==l?s.addEventListener("keyup",ge):n.getAttribute("data-value")==e.value&&(n.style.display="none"),n.addEventListener("click",(function(){for(let e=0;e<o.length;e++){o[e].style.display="block"}"input"==l?(s.value=c,e.value=i):(t.querySelector(".select__value").innerHTML="<span>"+c+"</span>",e.value=i,n.style.display="none")}))}}(e,t)}function ge(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option"),r=e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let n=t[e];(n.textContent||n.innerText).toUpperCase().indexOf(r)>-1?n.style.display="":n.style.display="none"}}function he(e){const t=e.getAttribute("data-value");""==e.value&&""!=t&&(e.value=t)}function be(e){e.classList.add("_focus"),e.parentElement.classList.add("_focus")}function Le(e){e.classList.remove("_focus"),e.parentElement.classList.remove("_focus")}function Se(e,t){e.inputmask.remove(),e.value=t,Le(e)}ye.length>0&&function(){for(let e=0;e<ye.length;e++){fe(ye[e])}document.addEventListener("click",(function(e){_e(e)})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&_e(e)}))}(),function(e){if(e.length>0)for(let t=0;t<e.length;t++){const r=e[t],n=r.getAttribute("data-value");he(r),""!=r.value&&r.value!=n&&be(r),r.addEventListener("focus",(function(e){r.value==n&&(be(r),r.value=""),"pass"===r.getAttribute("data-type")&&r.setAttribute("type","password"),r.classList.contains("_date"),r.classList.contains("_phone")&&(r.classList.add("_mask"),Inputmask("+375 (99) 999-99-99",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){Se(r,n)}}).mask(r)),r.classList.contains("_digital")&&(r.classList.add("_mask"),Inputmask("9{1,}",{placeholder:"",clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){Se(r,n)}}).mask(r)),pe(r)})),r.addEventListener("blur",(function(e){""==r.value&&(r.value=n,Le(r),r.classList.contains("_mask")&&Se(r,n),"pass"===r.getAttribute("data-type")&&r.setAttribute("type","text"))})),r.classList.contains("_date")&&datepicker(r,{customDays:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],customMonths:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],formatter:(e,t,r)=>{const n=t.toLocaleDateString();e.value=n},onSelect:function(e,t,r){be(e.el)},showAllDates:!0})}}(document.querySelectorAll("input[data-value],textarea[data-value]"));let qe=document.querySelectorAll(".quantity__button");if(qe.length>0)for(let e=0;e<qe.length;e++){const t=qe[e];t.addEventListener("click",(function(e){let r=parseInt(t.closest(".quantity").querySelector("input").value);t.classList.contains("quantity__button_plus")?r++:(r-=1,r<1&&(r=1)),t.closest(".quantity").querySelector("input").value=r}))}const Ae=document.querySelector(".price-range"),we=document.querySelector(".total-price span");if(Ae){const e=Number(we.textContent.slice(0,-1).match(/(\d+)/g).join(""));noUiSlider.create(Ae,{start:[1e3,e],connect:[!0,!0,!1],range:{min:[0],max:[3e3]}});const t=document.querySelector(".balance__value"),r=document.querySelector(".balance");Ae.noUiSlider.on("update",(function(n,o){t.innerHTML=3e3-Math.round(n[o]),t<3e3?t.innerHTML=0:e<1e3&&(r.innerHTML=`До минимальной суммы заказа не хватает <span>${1e3-e} RUB</span>`)}))}}));